generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model bookings {
  id             String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  venue_id       String    @db.VarChar
  user_id        String    @db.VarChar
  match_id       String?   @db.VarChar
  start_time     DateTime  @db.Timestamp(6)
  end_time       DateTime  @db.Timestamp(6)
  total_amount   Decimal   @db.Decimal(10, 2)
  status         String?   @default("confirmed") @db.VarChar
  payment_status String?   @default("pending") @db.VarChar
  created_at     DateTime? @default(now()) @db.Timestamp(6)
  updated_at     DateTime? @default(now()) @db.Timestamp(6)
}

model cart_items {
  id         String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  user_id    String    @db.VarChar
  product_id String    @db.VarChar
  quantity   Int?      @default(1)
  created_at DateTime? @default(now()) @db.Timestamp(6)
}

model match_participants {
  id        String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  match_id  String    @db.VarChar
  user_id   String    @db.VarChar
  team      String?   @db.VarChar
  role      String?   @default("player") @db.VarChar
  status    String?   @default("joined") @db.VarChar
  joined_at DateTime? @default(now()) @db.Timestamp(6)
}

model matches {
  id              String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  title           String    @db.VarChar
  sport           String    @db.VarChar
  match_type      String    @db.VarChar
  is_public       Boolean?  @default(true)
  venue_id        String    @db.VarChar
  organizer_id    String    @db.VarChar
  scheduled_at    DateTime  @db.Timestamp(6)
  duration        Int?
  max_players     Int
  current_players Int?      @default(0)
  status          String?   @default("upcoming") @db.VarChar
  team1_name      String?   @db.VarChar
  team2_name      String?   @db.VarChar
  team1_score     Json?
  team2_score     Json?
  match_data      Json?
  description     String?
  created_at      DateTime? @default(now()) @db.Timestamp(6)
  updated_at      DateTime? @default(now()) @db.Timestamp(6)
}

model products {
  id             String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  name           String    @db.VarChar
  description    String?
  category       String    @db.VarChar
  subcategory    String?   @db.VarChar
  price          Decimal   @db.Decimal(10, 2)
  discount_price Decimal?  @db.Decimal(10, 2)
  images         String[]
  brand          String?   @db.VarChar
  specifications Json?
  in_stock       Boolean?  @default(true)
  stock_quantity Int?      @default(0)
  rating         Decimal?  @default(0) @db.Decimal(3, 2)
  total_reviews  Int?      @default(0)
  created_at     DateTime? @default(now()) @db.Timestamp(6)
  updated_at     DateTime? @default(now()) @db.Timestamp(6)
}

model reviews {
  id          String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  user_id     String    @db.VarChar
  venue_id    String?   @db.VarChar
  product_id  String?   @db.VarChar
  rating      Int
  comment     String?
  images      String[]
  is_verified Boolean?  @default(false)
  created_at  DateTime? @default(now()) @db.Timestamp(6)
  updated_at  DateTime? @default(now()) @db.Timestamp(6)
}

model sessions {
  sid    String   @id @db.VarChar
  sess   Json
  expire DateTime @db.Timestamp(6)

  @@index([expire], map: "IDX_session_expire")
}

model user_stats {
  id               String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  user_id          String    @db.VarChar
  sport            String    @db.VarChar
  matches_played   Int?      @default(0)
  matches_won      Int?      @default(0)
  total_score      Int?      @default(0)
  best_performance Json?
  stats            Json?
  updated_at       DateTime? @default(now()) @db.Timestamp(6)
}

model users {
  id                String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  email             String    @unique(map: "users_email_unique") @db.VarChar
  password          String    @db.VarChar
  first_name        String?   @db.VarChar
  last_name         String?   @db.VarChar
  profile_image_url String?   @db.VarChar
  date_of_birth     DateTime? @db.Date
  location          String?   @db.VarChar
  phone_number      String?   @db.VarChar
  is_admin          Boolean?  @default(false)
  created_at        DateTime? @default(now()) @db.Timestamp(6)
  updated_at        DateTime? @default(now()) @db.Timestamp(6)
}

model venues {
  id             String    @id @default(dbgenerated("gen_random_uuid()")) @db.VarChar
  name           String    @db.VarChar
  description    String?
  address        String
  city           String    @db.VarChar
  state          String    @db.VarChar
  latitude       Decimal?  @db.Decimal(10, 8)
  longitude      Decimal?  @db.Decimal(11, 8)
  sports         String[]
  price_per_hour Decimal   @db.Decimal(10, 2)
  facilities     String[]
  images         String[]
  rating         Decimal?  @default(0) @db.Decimal(3, 2)
  total_reviews  Int?      @default(0)
  owner_id       String    @db.VarChar
  created_at     DateTime? @default(now()) @db.Timestamp(6)
  updated_at     DateTime? @default(now()) @db.Timestamp(6)
}
